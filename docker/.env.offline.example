# TC WebUI 离线环境配置示例
# 复制此文件为 .env 并根据需要修改

###########################################
# 基础配置
###########################################

# 应用名称
APP_NAME=知识问答

# 服务端口
PORT=8080

# 数据目录
DATA_DIR=/app/data

###########################################
# Ollama 配置（本地模型服务）
###########################################

# Ollama服务地址 - 修改为您的实际Ollama服务地址
OLLAMA_BASE_URL=http://host.docker.internal:11434

###########################################
# 数据库配置
###########################################

# SQLite数据库文件路径（Docker内部路径）
DATABASE_URL=sqlite:////app/data/webui.db

###########################################
# 用户管理
###########################################

# 最大用户数量限制
USER_LIMIT=50

# 是否启用用户注册
ENABLE_SIGNUP=true

# 新用户默认角色 (pending, user, admin)
DEFAULT_USER_ROLE=pending

# 是否启用用户权限管理
ENABLE_USER_PERMISSIONS=true

###########################################
# 安全配置
###########################################

# 应用密钥 - 请修改为强密码！
SECRET_KEY=your-very-secure-secret-key-change-this

# CORS配置 - 生产环境请修改为具体域名
CORS_ALLOW_ORIGIN=*

###########################################
# 离线模式配置（已优化）
###########################################

# 完全跳过嵌入模型和检索功能（适用于纯对话模式）
BYPASS_EMBEDDING_AND_RETRIEVAL=true

# 禁用模型自动更新
RAG_EMBEDDING_MODEL_AUTO_UPDATE=false

# 强制离线模式
HF_HUB_OFFLINE=1
TRANSFORMERS_OFFLINE=1
HF_HUB_DISABLE_TELEMETRY=1
DISABLE_TELEMETRY=1

###########################################
# API密钥配置（可选）
###########################################

# OpenAI API密钥（如果需要）
OPENAI_API_KEY=

# Anthropic API密钥（如果需要）
ANTHROPIC_API_KEY=

###########################################
# SSO配置（可选 - 统一身份认证）
###########################################

# 是否启用OAuth登录
ENABLE_OAUTH_SIGNUP=false

# OAuth客户端ID
OAUTH_CLIENT_ID=

# OAuth客户端密钥
OAUTH_CLIENT_SECRET=

# OAuth权限范围
OAUTH_SCOPES=openid email profile

# OAuth提供商名称
OAUTH_PROVIDER_NAME=统一身份认证

# OpenID提供商URL
OPENID_PROVIDER_URL=

###########################################
# 高级配置（可选）
###########################################

# 全局日志级别
GLOBAL_LOG_LEVEL=INFO

# 环境标识
ENV=production

# 是否启用WebSocket
ENABLE_WEBSOCKET=true

# 是否启用版本更新检查（建议离线环境关闭）
ENABLE_VERSION_UPDATE_CHECK=false